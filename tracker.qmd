---
title: ""
format: 
    html:
        self-contained: true
editor: visual

execute:
  echo: false
  
font-size: 14px
---

### Tracker

------------------------------------------------------------------------

```{r}
library(r2d3)
```

```{r}
dates <- seq(as.Date("2023-06-28"), as.Date("2023-08-15"), by="days")
```

```{r}
#| label: word-count-data
words <- c(975, 824, 284, 0, 546, 340, 506, 459, 452, 0, 0, 156, 270, 384, 345, 516, 62, 451, 0, 367, 706, 562, 574, 632, 1057, 0, 87)
wordcount <- data.frame(day=dates, words=c(words, rep(0, length(dates)-length(words))))

ojs_define(wordcountdata = wordcount)
```

```{r}
#| label: pomodoro-data
sessions <- c(12, 13, 11, -2, 12, 13, 8, 13, 13, 8, 13, 8, 11, 13, 11, 12, 9, 16, -2, 12, 14, 13, 12, 11, 16, -2, 14)
pomodoro <- data.frame(day=dates, sessions=c(sessions, rep(-3, length(dates)-length(sessions))))

ojs_define(pomodorodata = pomodoro)
```

::: {layout-ncol="2"}
```{ojs}
//| fontsize: 15

pomodorodataParsed = transpose(pomodorodata)

Plot.plot({
  caption: "Sessions (incl. writing, reading, programming, publications) 🍅",
  x: {
    label: null
    },
  y: {
    label: "Sessions",
    domain: [0,16]
  },
  marks: [
    Plot.ruleY([0]),
    Plot.dot(pomodorodataParsed,
    {x: (d) => new Date(d.day), 
    interval: d3.utcDay, 
    y: "sessions",
    r: 4,
    fill: true})
    ]
})
```

```{ojs}
wordcountdataParsed = transpose(wordcountdata)

Plot.plot({
  caption: "Words 📝",
  x: {
    label: null
  },
  y: {
    grid: true,
    label: "Word Count",
    domain: [0,1100]
  },
  marks: [
    Plot.ruleY([0]),
    Plot.rectY(wordcountdataParsed,
    {x: (d) => new Date(d.day), 
    interval: d3.utcDay, 
    y: "words"})
    ]
})

```
:::
